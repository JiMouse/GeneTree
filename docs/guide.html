<!DOCTYPE html>
<html lang="fr">
<head>
	<title>GeneTree</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,maximum-scale=2">
	<meta name="author" content="Jean-Marie Ravel">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<!-- load bootstrap dependencies -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>

	<!-- load pedigreejs dependencies : jquery, bootstrap, font-awesome, d3 -->
		<!-- css -->
	<link href="https://code.jquery.com/ui/1.12.1/themes/cupertino/jquery-ui.css" rel="stylesheet" type="text/css" media="all" />
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css" media="all" />

		<!-- javascript -->
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/d3@5.16.0/dist/d3.min.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
	
	<script src="package/lodash.js"></script>

	<!-- languages script -->
	<script>
		//check if one prefered langages is french else set english as default
		var userLang = navigator.languages || navigator.userLanguage;
		function isFr(lang) {
			return /fr/.test(lang)
		}
		default_lang=(userLang.some(isFr) ? "fr" : "eng");
		
		//define load lang : check if localStorage
		var local_lang = localStorage.getItem("language");
		if (local_lang !== undefined && local_lang !== null) {
			load_lang = local_lang;
		} else {
			load_lang = default_lang;
		}
		
		//load languages scripts
		document.write('<scr'+'ipt type="text/javascript" src="../lang/lang.'+load_lang+'.js"></sc'+'ript>');
		document.write('<scr'+'ipt type="text/javascript" src="../lang/story.'+load_lang+'.js"></sc'+'ript>');
	</script>
	
	<!-- load pedigreejs -->
    <script src="../js/io.js"></script>
    <script src="../js/pedigree_form.js"></script>
    <script src="../js/pedigree.js"></script>
    <script src="../js/undo_redo_refresh.js"></script>
	<script src="../js/widgets.js"></script>
	<script src="../js/zoom.js"></script>
	<script src="../js/table.js"></script>

	<!-- main script -->
	<script type="text/javascript" src="../js/main.js"></script>
	<script type="text/javascript" src="../js/main_front.js"></script>
	<script type="text/javascript" src="../js/hotContextMenu.js"></script>

	<!-- main css -->
	<link rel="stylesheet" type="text/css" href="../css/main.css">
	<link rel="stylesheet" type="text/css" href="../css/handsontable.css">

	<!-- load handsontable module v10.0 --> 
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/handsontable/dist/handsontable.full.min.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/handsontable/dist/handsontable.full.min.css" />


	<!-- Display a loading icon until the page loads completely --> 
	<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
	<script>
		$(window).on("load", function (e) {
			$(".se-pre-con").fadeOut("slow");

			//load HPOArr
			var filePath = 'data/HPO_fr_CISMeF_1611083.txt';
			HPOArr = ImportHPO(filePath);
		});
	</script>
</head>
<body>
	<div class="se-pre-con"></div>
	<script>
		$(document).ready(function(){
			$('.lang').each(function() {
				var value = $(this).attr('id');
				//add text
				if(typeof(lang[value])!='undefined') $('#'+value).text(lang[value]);

				//add title
				if(typeof(title[value])!='undefined') $('#'+value).prop('title', title[value]);
			});

			//Load load_lang
			setSetterLanguage(load_lang);
		});
	</script>
	<nav class="navbar navbar-default header" style="margin-bottom:0px;margin-top:0px;background-color: #002e5d;">
		<div class="container-fluid">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" style="background-color:#dbe9f5" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
			</div>
	
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="navbar-collapse collapse" id="bs-example-navbar-collapse-1" aria-expanded="false" style="height: 1px;">

				<ul class="nav navbar-nav navbar-left">
					<li class="dropdown" style="display:inline;">
						<button class="dropdown btn" type='button' id="LangSetter" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="margin-bottom:0px;margin-top:8px;background-color: #002e5d;color: #dbe9f5">
							<img id="LangSetterImg" alt="Français" src="../data/images/fr.svg">
							<span id="LangSetterText" class="lang"></span>
							<span class="caret"></span>
						</button>
						<div class="dropdown-menu" aria-labelledby="export" style="width: 100% !important; min-width: 100%; max-width: 100%;padding:5px;background-color: #002e5d">
							<button class="btn btn-block" type='button' id="LangSetterFr" style="background-color: #002e5d;color: #dbe9f5">
								<img alt="Français" src="../data/images/fr.svg">	
								<span>Fr</span>
							</button>
							<button class="btn btn-block" type='button' id="LangSetterEng"  style="background-color: #002e5d;color: #dbe9f5">
								<img alt="Anglais" src="../data/images/eng.svg">
								<span>Eng</span>
							</button>
						</div>
					</li>
			</ul>
			<ul class="nav navbar-nav navbar-right">
					<li><a class="headerlink" href="/GeneTree/" style="color:#dbe9f5"><i class="fa fa-home"></i>&nbsp;&nbsp;<span id="home" class="lang"></span></a> </li>
					<li><a class="headerlink" href="/GeneTree/docs/user-interface.html" style="color:#dbe9f5"><span id="user_friendly" class="lang"></span></a></li>
					<li><a class="headerlink" href="/GeneTree/docs/guide.html" style="color:#dbe9f5"><i class="fa fa-info" aria-hidden="true"></i>&nbsp;&nbsp;<span id="guide" class="lang"></span></a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container">  <!-- class="container-fluid" style="padding:0px 200px;"--> 

		<!-- Introduction -->
		<div class='row'  style="padding-top: 20px;">
			<div class="panel">
				<div class="panel-heading" style="background-color: #dbe9f5;margin: 0;">
					<h3 style="background-color: #dbe9f5;display: inline-block; margin-right: 10px;">Introduction</h3>
				</div>
			</div>
			
			<div  style="padding:0px 10px 20px;">
				<p>
					Cette application est un outil intégré pour aider les médecins dans le cadre de leur consultation de génétique, notamment francophones (disponible en anglais également).
					Il dispose d'un mode spécifique pour la consultation d'oncogénétique ainsi qu'un utilisant les phénotypes HPO. La famille peut être chargée (fichiers JSON ou BOADICEA) ou créée à partir d'une structure standard ou personnalisée, puis complétée via un tableau ou une interface graphique, tout deux interconnectés.
					L'arbre est exportable dans plusieurs format de fichiers (TSV, JSON, PED, BOADICEA) et modifiable par un éditeur vectoriel (format PDF, SVG : que j'utilise dans le cadre de publication).
					Enfin, cette application permet la génération automatique de texte basée sur le contenu du tableau (à ma connaissance la seule qui le permet).

					Initialement, cet outil a été conçu particulièrement en pensant aux consultations d'oncogénétique afin d'éviter la triple saisie (texte-arbre- score de risque boadicea).
					L'application est articulée autour de trois volets : le tableur, l'arbre, le texte.
				</p>
			</div>
		</div>

		<!-- Prise en main du tableur -->
		<div class='row'  style="padding-top: 20px;">
			<div class="panel">
				<div class="panel-heading" style="background-color: #dbe9f5;margin: 0;">
					<h3 style="background-color: #dbe9f5;display: inline-block; margin-right: 10px;">Introduction</h3>
				</div>
			</div>
			
			<div  style="padding:0px 10px 20px;">
				<p>
					
				</p>
			</div>
		</div>

		<!-- Prise en main de l'arbre généalogique -->
		<div class='row'  style="padding-top: 20px;">
			<div class="panel">
				<div class="panel-heading" style="background-color: #dbe9f5;margin: 0;">
					<h3 style="background-color: #dbe9f5;display: inline-block; margin-right: 10px;">Prise en main de l'arbre généalogique</h3>
				</div>
			</div>
			
			<div  style="padding:0px 10px 20px;">
				<p>
					
				</p>
			</div>
		</div>

		<!-- Génération du texte -->
		<div class='row'  style="padding-top: 20px;">
			<div class="panel">
				<div class="panel-heading" style="background-color: #dbe9f5;margin: 0;">
					<h3 style="background-color: #dbe9f5;display: inline-block; margin-right: 10px;">Génération du texte</h3>
				</div>
			</div>
			
			<div  style="padding:0px 10px 20px;">
				<p>
					
				</p>
			</div>
		</div>

		<!-- References -->
		<div class='row' style="padding-top: 20px;">
			<div class="panel">
				<div class="panel-heading" style="background-color: #dbe9f5;margin: 0;">
					<h3 id="title_reference" class="lang"></h3>
				</div>
			</div>
			
			<div  style="padding:0px 10px 20px;">
				<p><strong>pedigreejs: a web-based graphical pedigree editor</strong><br>
					Carver T, Cunningham AP, Babb de Villiers C, Lee A, Hartley S, Tischkowitz M, et al. 
					<i>Bioinformatics <a href="http://dx.doi.org/10.1093/bioinformatics/btx705" target="_blank">
					doi:10.1093/bioinformatics/btx705</a></i>
				</p>
				<p><strong>HPO-translations</strong><br>
					<a href="https://github.com/drseb/HPO-translations" target="_blank">drseb/HPO-translations</a>
				</p>
				<p><strong>The Human Phenotype Ontology (HPO)</strong><br>
					<a href="https://hpo.jax.org/app/download/annotation" target="_blank">Annotations</a>
				</p>
				<p>
					<span id="Acknowledgment" class="lang"></span>
					<br>
					Copyright : Jean-Marie Ravel, 2020
					<br>
					<a href="mailto:jmravel.dev@gmail.com?	subject=GeneTree">Contact : jmravel.dev@gmail.com</a>
				</p>

			</div>
		</div>
	</div>

	<!-- pattern fills //.style('fill', 'url(#circles-1)') --> 
	<div id="patterns" style="height:0;">
		<svg height="10" width="10" xmlns="http://www.w3.org/2000/svg" version="1.1"><defs><pattern id="circles-1" patternUnits="userSpaceOnUse" width="10" height="10"><image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSJ3aGl0ZSIgLz4KICA8Y2lyY2xlIGN4PSIxIiBjeT0iMSIgcj0iMSIgZmlsbD0iYmxhY2siLz4KPC9zdmc+" x="0" y="0" width="10" height="10"></image></pattern></defs></svg>
		<svg height="10" width="10" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="diagonal-stripe-1" patternUnits="userSpaceOnUse" width="10" height="10"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSd3aGl0ZScvPgogIDxwYXRoIGQ9J00tMSwxIGwyLC0yCiAgICAgICAgICAgTTAsMTAgbDEwLC0xMAogICAgICAgICAgIE05LDExIGwyLC0yJyBzdHJva2U9J2JsYWNrJyBzdHJva2Utd2lkdGg9JzEnLz4KPC9zdmc+Cg==" x="0" y="0" width="10" height="10"> </image> </pattern> </defs> </svg>
		<svg height="10" width="10" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="dots-8" patternUnits="userSpaceOnUse" width="10" height="10"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSd3aGl0ZScgLz4KICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nOCcgaGVpZ2h0PSc4JyBmaWxsPSdibGFjaycgLz4KPC9zdmc+" x="0" y="0" width="10" height="10"> </image> </pattern> </defs> </svg>
		<svg height="10" width="10" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="horizontal-stripe-2" patternUnits="userSpaceOnUse" width="10" height="10"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSd3aGl0ZScgLz4KICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAnIGhlaWdodD0nMicgZmlsbD0nYmxhY2snIC8+Cjwvc3ZnPg==" x="0" y="0" width="10" height="10"> </image> </pattern> </defs> </svg>
		<svg height="10" width="10" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="vertical-stripe-2" patternUnits="userSpaceOnUse" width="10" height="10"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSd3aGl0ZScgLz4KICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMicgaGVpZ2h0PScxMCcgZmlsbD0nYmxhY2snIC8+Cjwvc3ZnPg==" x="0" y="0" width="10" height="10"> </image> </pattern> </defs> </svg>
		<svg height="8" width="8" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="crosshatch" patternUnits="userSpaceOnUse" width="8" height="8"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4JyBoZWlnaHQ9JzgnPgogIDxyZWN0IHdpZHRoPSc4JyBoZWlnaHQ9JzgnIGZpbGw9JyNmZmYnLz4KICA8cGF0aCBkPSdNMCAwTDggOFpNOCAwTDAgOFonIHN0cm9rZS13aWR0aD0nMC41JyBzdHJva2U9JyNhYWEnLz4KPC9zdmc+Cg==" x="0" y="0" width="8" height="8"> </image> </pattern> </defs> </svg>        
		<svg height="5" width="5" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="lightstripe" patternUnits="userSpaceOnUse" width="5" height="5"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc1JyBoZWlnaHQ9JzUnPgogIDxyZWN0IHdpZHRoPSc1JyBoZWlnaHQ9JzUnIGZpbGw9J3doaXRlJy8+CiAgPHBhdGggZD0nTTAgNUw1IDBaTTYgNEw0IDZaTS0xIDFMMSAtMVonIHN0cm9rZT0nIzg4OCcgc3Ryb2tlLXdpZHRoPScxJy8+Cjwvc3ZnPg==" x="0" y="0" width="5" height="5"> </image> </pattern> </defs> </svg>
	</div>
	<script>
		var patternsId = function(){//all id
			items = ['circles-1', 'diagonal-stripe-1', 'dots-8', 'horizontal-stripe-2', 'vertical-stripe-2', 'crosshatch', 'lightstripe'];
			for (let i = 0; i < items.length; i++) {
				items[i] = 'url(#' + items[i] + ')';
			}
			return items
		}
	</script>
</body>

</html>