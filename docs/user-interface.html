<!DOCTYPE html>
<html lang="fr">
<head>
	<title>GeneTree</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,maximum-scale=2">
	<meta name="author" content="Jean-Marie Ravel">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<!-- load bootstrap dependencies -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>

	<!-- load pedigreejs dependencies : jquery, bootstrap, font-awesome, d3 -->
		<!-- css -->
	<link href="https://code.jquery.com/ui/1.12.1/themes/cupertino/jquery-ui.css" rel="stylesheet" type="text/css" media="all" />
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css" media="all" />

		<!-- javascript -->
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/d3@5.16.0/dist/d3.min.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
	
	<script src="../package/lodash.js"></script>
	<script src="../package/jquery.inputmask.min.js"></script>

	<!-- languages script -->
	<script>
		//check if one prefered langages is french else set english as default
		var userLang = navigator.languages || navigator.userLanguage;
		function isFr(lang) {
			return /fr/.test(lang)
		}
		default_lang=(userLang.some(isFr) ? "fr" : "eng");
		
		//define load lang : check if localStorage
		var local_lang = localStorage.getItem("language");
		if (local_lang !== undefined && local_lang !== null) {
			load_lang = local_lang;
		} else {
			load_lang = default_lang;
		}
		//load languages scripts
		document.write('<scr'+'ipt type="text/javascript" src="../lang/lang.'+load_lang+'.js"></sc'+'ript>');
		document.write('<scr'+'ipt type="text/javascript" src="../lang/story.'+load_lang+'.js"></sc'+'ript>');
	</script>
	
	<!-- load pedigreejs -->
    <script src="../js/io.js"></script>
    <script src="../js/pedigree_form.js"></script>
    <script src="../js/pedigree.js"></script>
    <script src="../js/undo_redo_refresh.js"></script>
	<script src="../js/widgets.js"></script>
	<script src="../js/zoom.js"></script>
	<script src="../js/canrisk_file.js"></script>


	<!-- main script -->
	<script type="text/javascript" src="../js/main.js"></script>
	<script type="text/javascript" src="../js/main_front.js"></script>
	<script type="text/javascript" src="../js/hotContextMenu.js"></script>
	<script type="text/javascript" src="../js/user-interface.js"></script>
	<script type="text/javascript" src="../js/hotTable.js"></script>
	<script type="text/javascript" src="../js/indexWidgets.js"></script>

	<!-- main css -->
	<link rel="stylesheet" type="text/css" href="../css/main.css">
	<link rel="stylesheet" type="text/css" href="../css/handsontable.css">
	<link rel="stylesheet" type="text/css" href="../css/pedigreejs.css">

	<!-- load handsontable module v10.0 --> 
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/handsontable/dist/handsontable.full.min.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/handsontable/dist/handsontable.full.min.css" />

	<!-- Display a loading icon until the page loads completely --> 
	<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
	<script>
		$(window).on("load", function (e) {
			$(".se-pre-con").fadeOut("slow");

			//load HPOArr
			var filePath = '../data/HPO_fr_CISMeF_1611083.txt';
			HPOArr = ImportHPO(filePath);
		});
	</script>
</head>
<body>
	<div class="se-pre-con"></div>
	<script>
		$(document).ready(function () {
			$('.lang').each(function () {
				var value = $(this).attr('id');
				//add text
				if (typeof (lang[value]) != 'undefined') $('#' + value).text(lang[value]);

				//add title
				if (typeof (title[value]) != 'undefined') $('#' + value).prop('title', title[value]);
			});

			//Load load_lang
			setSetterLanguage(load_lang);

			(function () {
				var strLink = '/GeneTree/docs/'+ 'user-interface.html'
				document.getElementById("userLink").setAttribute("href", strLink);
				var strLink2 = '/GeneTree/docs/' + load_lang + '/guide.html'
				document.getElementById("guideLink").setAttribute("href", strLink2);
			})();
		});
	</script>
	<nav class="navbar navbar-default header" style="margin-bottom:0px;margin-top:0px;background-color: #002e5d;">
		<div class="container-fluid">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" style="background-color:#002e5d;" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
					<span class="sr-only" style="background-color: #dbe9f5">Navigation</span>
					<span class="icon-bar" style="background-color: #dbe9f5"></span>
					<span class="icon-bar" style="background-color: #dbe9f5"></span>
					<span class="icon-bar" style="background-color: #dbe9f5"></span>
				</button>
			</div>
	
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="navbar-collapse collapse" id="bs-example-navbar-collapse-1" aria-expanded="false" style="height: 1px;">
				<ul class="nav navbar-nav navbar-left">
					<!-- <li>
			            <a data-lang="en" href="/GeneTree/docs/user-interface.html" class="pright5 headerlink" style="color:#dbe9f5" title="English">Eng</a>
			        </li> -->
					<li class="dropdown" style="display:inline;">
						<button class="dropdown btn" type='button' id="LangSetter" data-toggle="dropdown"
							aria-haspopup="true" aria-expanded="false"
							style="margin-bottom:0px;margin-top:8px;background-color: #002e5d;color: #dbe9f5">
							<img id="LangSetterImg" alt="Français" src="/GeneTree/data/images/fr.svg">
							<span id="LangSetterText" class="lang"></span>
							<span class="caret"></span>
						</button>
						<div class="dropdown-menu" aria-labelledby="export"
							style="width: 100% !important; min-width: 100%; max-width: 100%;padding:5px;background-color: #002e5d">
							<button class="btn btn-block" type='button' id="LangSetterFr"
								style="background-color: #002e5d;color: #dbe9f5">
								<img alt="Français" src="/GeneTree/data/images/fr.svg">
								<span>Fr</span>
							</button>
							<button class="btn btn-block" type='button' id="LangSetterEng"
								style="background-color: #002e5d;color: #dbe9f5">
								<img alt="Anglais" src="/GeneTree/data/images/eng.svg">
								<span>Eng</span>
							</button>
						</div>
					</li>
				</ul>
				<!-- <ul class="nav navbar-nav navbar-right">
					<li><a class="headerlink" href="/GeneTree/" style="color:#dbe9f5"><i class="fa fa-home"></i>&nbsp;&nbsp;<span id="home" class="lang">Accueil</span></a> </li>
					<li><a class="headerlink" href="/GeneTree/docs/user-interface.html" style="color:#dbe9f5"><span id="user_friendly" class="lang">Interface simplifiée</span></a></li>
					<li><a class="headerlink" href="/GeneTree/docs/fr/guide.html" style="color:#dbe9f5"><i class="fa fa-info" aria-hidden="true"></i>&nbsp;&nbsp;<span id="guide" class="lang">Guide</span></a></li>
				</ul> -->
				<ul class="nav navbar-nav navbar-right">
					<li>
						<a class="headerlink" href="/GeneTree/" style="color:#dbe9f5">
							<i class="fa fa-home"></i>&nbsp;&nbsp;<span id="home" class="lang"></span>
						</a>
					</li>
					<li>
						<a class="headerlink" id="userLink" style="color:#dbe9f5" onclick="pbuttons.reset(opts, opts.keep_proband_on_reset);">
							<span id="user_friendly" class="lang"></span>
						</a>
					</li>
					<li>
						<a class="headerlink" id="guideLink" style="color:#dbe9f5">
							<i class="fa fa-info" aria-hidden="true"></i>&nbsp;&nbsp;
							<span id="guide" class="lang"></span>
						</a>
					</li>
				</ul>

			</div>
		</div>
	</nav>

	<div class="container">
		<!-- Présentation -->
		<div class='row'  style="padding-top: 20px;">
			<div class="panel">
				<div class="panel-heading" style="background-color: #dbe9f5;margin: 0;">
					<h3 class='h3-lightblue'>Introduction</h3>
				</div>
			</div>
			<p>
				<div style="padding:0px 20px;">
					<!-- <span class="lang" id="introduction_txt"></span> -->
					Cette page a pour but de proposer une interface simplifiée permettant de préparer sa consultation en faisant
					le recueil de son histoire familiale et personnelle (arbre généalogique) en lien avec des pathologies oncologiques. 
					Il ne se substitut pas à une consultation d'oncogénétique mais peut vous permettre de la préparer.
					Vous pouvez sauvegarder l'arbre sous forme d'images ou les données bruts dans la dernière section de cette page.
					A chaque section, vous pouvez remplir les âges ou les dates de naissance et symétriquement les années ou dates de diagnostics
					des pathologies concernées.
				</div>
			</p>
		</div>

		<!-- Interface -->
		<div class="panel-group row" id="accordion" style="padding-top: 20px;">
			<div class="panel panel-default">
				<div class="panel-heading header-lightblue">
					<h3 class="panel-title h3-lightblue">
						<a id ="collapseCancer" data-toggle="collapse" data-parent="#accordion" href="#collapse1">
							Votre histoire personnelle
						</a>
					</h3>
				</div>
				<div id="collapse1" class="panel-collapse collapse in">
					<div class="panel-body">
						<fieldset>
							<div class="row">
								<div class="col-lg-2 text-right field_label">
									<label for="civil_name">Nom Prénom :</label>
								</div>
								<div class="field col-lg-2">
									<input type="text" name="display_name" size="17" class="form-control valid" maxlength="60"
										id="civil_name" aria-invalid="false">
								</div>
								<div class="col-lg-2 text-right field_label">
									<label for="dbirth">Date de naissance :</label>
								</div>
								<div class="field col-lg-2">
									<input id="dbirth" class="form-control" type="text" im-insert="false">
								</div>
								<div class="col-lg-2 text-center">
									<label for="id_sex_0">
										<input type="radio" name="sex" value="M" required="" id="id_sex_0" class="valid">
											Homme
									</label>
								</div>
								<div class="col-lg-1 text-center">
									<label for="id_sex_1">
										<input type="radio" name="sex" value="F" required="" id="id_sex_1" class="valid" checked>
											Femme
									</label>
								</div>
								<div class="col-lg-1 text-center"></div>	
							</div>
							<br>
							<div class="row" style="padding-left: 20px;padding-right: 20px;">
									<label for="form_id_comment">Commentaire :</label>
									<textarea name="form_id_comment" id="form_id_comment" class="form-control valid" rows="2"></textarea>
							</div>
						</fieldset>
						<hr>
						<div id="acc_Cancer_div">
							<div class="row" style="padding: 0px 20px;">
                                <div class="col-lg-3">
									<p class='question'>Avez-vous eu un cancer ?</p>
									<label class="radio-inline" for="cancer_Yes"><input type="radio" name="cancer_radio" id="cancer_Yes" value="cancer_Yes">Oui</label>
									<label class="radio-inline" for="cancer_No"><input type="radio" name="cancer_radio" id="cancer_No" value="cancer_No" checked>Non</label>
                                </div>
                                <div id="cancer_table_div" class="col-lg-9">
									<p class='question'> Renseigner type et date ou âge du diagnostic</p>
				
									<div class="text-center">
										<div class='hotContainer'> 
											<!-- style="height: 260px;"> -->
											<div id="hotCancer" class="hot handsontable htColumnHeaders handsontable-helvetica"
											style="display:inline-block;z-index: 0;min-height:60px"></div> 
										</div>
									</div>
									<div id="cancerList" style="background-color: white;" class='container'>
										<form>
											<fieldset>
												<div class="form-check">
													<label class="form-check-label font-normal">
														<input type="radio" class="form-check-input" name="cancerListradio"
														value="cancer_sein"> Cancer du sein
													</label>
												</div>
												<div class="form-check">
													<label class="form-check-label font-normal">
														<input type="radio" class="form-check-input" name="cancerListradio"
														value="cancer_sein2"> Cancer du sein controlatéral
													</label>
												</div>
												<div class="form-check">
													<label class="form-check-label font-normal">
														<input type="radio" class="form-check-input" name="cancerListradio"
														value="cancer_ovaire"> Cancer de l'ovaire
													</label>
												</div>
												<div class="form-check">
													<label class="form-check-label font-normal">
														<input type="radio" class="form-check-input" name="cancerListradio"
														value="cancer_prostate"> Cancer de la prostate
													</label>
												</div>
												<div class="form-check">
													<label class="form-check-label font-normal">
														<input type="radio" class="form-check-input" name="cancerListradio"
														value="cancer_pancréas"> Cancer du pancréas
													</label>
												</div>
												<div class="form-check">
													<label class="form-check-label font-normal">
														<input type="radio" class="form-check-input" name="cancerListradio"
														value="cancer_utérus"> Cancer de l'utérus
													</label>
												</div>
												<div class="form-check">
													<label class="form-check-label font-normal">
														<input type="radio" class="form-check-input" name="cancerListradio"
														value="cancer_rein"> Cancer du rein
													</label>
												</div>
												<div class="form-check">
													<label class="form-check-label font-normal">
														<input type="radio" class="form-check-input" name="cancerListradio"
														value="cancer_foie"> Cancer du foie
													</label>
												</div>
												<div class="form-check">
													<label class="form-check-label font-normal">
														<input type="radio" class="form-check-input" name="cancerListradio"
														value="mélanome"> Mélanome
													</label>
												</div>
												<div class="form-check">
													<label class="form-check-label font-normal">
														<input type="radio" class="form-check-input" name="cancerListradio"
														value="cancer_ORL"> Cancer ORL
													</label>
												</div>
												<div class="form-check">
													<label class="form-check-label font-normal">
														<input type="radio" class="form-check-input" name="cancerListradio"
														value="polypes"> Polypes
													</label>
												</div>
												<div class="form-check">
													<label class="form-check-label font-normal">
														<input type="radio" class="form-check-input" name="cancerListradio"
														value="autre"> Autre
													</label>
												</div>
											</fieldset>
										</form>
									</div>
					
									<script>
										const containerCancer = document.getElementById('hotCancer');

										var myDataCancer = [
											{"Cancer": "", "Age":"","Year":""}
										]
										let diseasesInd = onco();
										diseasesInd.push('autre');

										var colCancer = [
											{data: 'Cancer'},
											{data: 'Age', type: 'numeric'},
											{data: 'Year', type: 'numeric'}
										];
										var colCancer_header = ['Localisation du cancer', 'Âge au diagnostic', 'Année du diagnostic'];

										var hotCancer = new Handsontable(containerCancer, {
											data: myDataCancer,
											rowHeaders: false,
											colHeaders: colCancer_header,
											columns: colCancer,
											minSpareRows: 1,
											manualColumnResize: true,
											className: 'htCenter htMiddle helvetica',
											outsideClickDeselects: false,
											persistentState: true,
											rowHeights: 30,
											height: 'auto',
											width: '100%',
											licenseKey: 'non-commercial-and-evaluation'
										});

									</script>
                                </div>
                            </div>
						</div>
					</div>
				</div>
			</div>
			<div class="panel panel-default">
				<div class="panel-heading header-lightblue">
					<h3 class="panel-title h3-lightblue">
						<a id ="collapseChildren" data-toggle="collapse" data-parent="#accordion" href="#collapse2">
							Vos enfants
						</a>
					</h3>
				</div>

				<div id="collapse2" class="panel-collapse collapse">
					<div class="panel-body">
						<div id="acc_Child_div">
                            <div class="row" style="padding: 0px 20px;">
                                <div class="col-lg-3">
									<p class='question'>Avez-vous des enfants ?</p>
									<label class="radio-inline" for="children_Yes"><input type="radio" name="children_radio" id="children_Yes" value="children_Yes">Oui</label>
									<label class="radio-inline" for="children_No"><input type="radio" name="children_radio" id="children_No" value="children_No" checked>Non</label>
									<br><br>
									<div id="children_div">
										<p class='question'>Combien d'enfants avez-vous?</p>
										<div class="input-group">
											<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
											<input id="children_input" name="children_input" type="number" class="form-control"
											data-decimals="0" placeholder="--" class="fill-space" min="0" max="20" step="1">
										</div>
									</div>
                                </div>
                                <div id="children_table_div" class="col-lg-9">
									<p class='question'>Quand sont nés vos enfants ?</p>
				
									<div class="text-center">
										<div class='hotContainer'>
											<div id="hotChildren" class="hot handsontable htColumnHeaders handsontable-helvetica"
											style="display:inline-block;z-index: 0;min-height:60px"></div>
										</div>
									</div>
					
									<script>
										const containerChildren = document.getElementById('hotChildren');

										var myDataChildren = [
											// {"Name": "Enfant", "Sex": "", "Deceased":"0","Age":"","Yob":""}
										]

										colCancer = [
											{data: 'Disease1'},
											{data: 'Age1', type: 'numeric'},
											{data: 'Year1', type: 'numeric'},
											{data: 'comment', type: 'text'}
										];
										colCancer_header = ['Localisation<br> du cancer', 'Âge au<br> diagnostic', 'Année du<br> diagnostic', 'Commentaire'];
									
										var colChildren = [
											{data: 'Name'},
											{data: 'Sex', type: 'dropdown', source: ['M','F']},
											{data: 'Deceased', type: 'checkbox', checkedTemplate: '1', uncheckedTemplate: '0'},
											{data: 'Age', type: 'numeric'},
											{data: 'Yob', type: 'numeric'}
											
										];
										colChildren = colChildren.concat(colCancer);

										var colChildren_header = ['Nom', 'Genre', 'Décés', 'Âge', 'Année de<br> Naissance'];
										colChildren_header=colChildren_header.concat(colCancer_header);

										var hotChildren = new Handsontable(containerChildren, {
											data: myDataChildren,
											rowHeaders: false,
											colHeaders: colChildren_header,
											columns: colChildren,
											className: 'htCenter htMiddle helvetica',
											outsideClickDeselects: false,
											persistentState: true,
											rowHeights: 28,
											colWidths: [100, 80, 50, 50, 80, 140, 80, 80, 130],
											manualColumnResize: false,
											height: 'auto',
											width: '100%',
											licenseKey: 'non-commercial-and-evaluation',
										});

									</script>
                                </div>
                            </div>
                        </div>
					</div>
				</div>
			</div>
			<div class="panel panel-default">
				<div class="panel-heading header-lightblue">
					<h3 class="panel-title h3-lightblue">
						<a id ="collapseSiblings" data-toggle="collapse" data-parent="#accordion" href="#collapse3">
							Vos frères et sœurs
						</a>
					</h3>
				</div>

				<div id="collapse3" class="panel-collapse collapse">
					<div class="panel-body">
						<div id="acc_siblings_div">
                            <div class="row" style="padding: 0px 20px;">
                                <div class="col-lg-3">
									<p class='question'>Avez-vous des frères et sœurs ?</p>
									<label class="radio-inline" for="siblings_Yes"><input type="radio" name="siblings_radio" id="siblings_Yes" value="siblings_Yes">Oui</label>
									<label class="radio-inline" for="siblings_No"><input type="radio" name="siblings_radio" id="siblings_No" value="siblings_No" checked>Non</label>
									<br><br>
									<div id="siblings_div">
										<p class='question'>Combien de frères et sœurs avez-vous?</p>
										<div class="input-group">
											<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
											<input id="siblings_input" name="siblings_input" type="number" class="form-control"
											data-decimals="0" placeholder="--" class="fill-space" min="0" max="20" step="1">
										</div>
									</div>
                                </div>
                                <div id="siblings_table_div" class="col-lg-9">
									<p class='question'>Quand sont nés vos frères et sœurs ?</p>
				
									<div class="text-center">
										<div class='hotContainer'>
											<div id="hotSiblings" class="hot handsontable htColumnHeaders handsontable-helvetica"
											style="display:inline-block;z-index: 0;min-height:60px"></div>
										</div>
									</div>
					
									<script>
										const containerSiblings = document.getElementById('hotSiblings');

										var myDataSiblings = [
											// {"Name": "FS", "Sex": "", "Deceased":"0","Age":"","Yob":""}
										]

										var hotSiblings = new Handsontable(containerSiblings, {
											data: myDataSiblings,
											rowHeaders: false,
											colHeaders: colChildren_header,
											columns: colChildren,
											className: 'htCenter htMiddle helvetica',
											outsideClickDeselects: false,
											persistentState: true,
											rowHeights: 25,
											colWidths: [100, 80, 50, 50, 80, 140, 80, 80, 130],
											manualColumnResize: false,
											height: 'auto',
											width: '100%',
											licenseKey: 'non-commercial-and-evaluation',
										});

									</script>
                                </div>
                            </div>
                        </div>
					</div>
				</div>
			</div>

			<div class="panel panel-default">
				<div class="panel-heading header-lightblue">
					<h3 class="panel-title h3-lightblue">
						<a id ="collapseParents" data-toggle="collapse" data-parent="#accordion" href="#collapseP">
							Vos parents
						</a>
					</h3>
				</div>
				<div id="collapseP" class="panel-collapse collapse">
					<div class="panel-body">
						<div id="acc_parents_div">
							<div class="row" style="padding: 0px 20px;">
								<div id="parents_table_div">
									<p class='question'>Vos parents.</p>
				
									<div class="text-center">
										<div class='hotContainer'>
											<div id="hotParents" class="hot handsontable htColumnHeaders handsontable-helvetica"
											style="display:inline-block;z-index: 0;min-height:60px"></div>
										</div>
									</div>
					
									<script>
										const containerParents = document.getElementById('hotParents');

										var myDataParents = [
											{"FamID": "1","Name": "Père","IndivID": "2","FathID": "4","MothID": "5","Sex": "M","Affected":"1","Deceased":"0"},
            								{"FamID": "1","Name": "Mère","IndivID": "3","FathID": "6","MothID": "7","Sex": "F","Affected":"1","Deceased":"0"},
										]
										var hotParents = new Handsontable(containerParents, {
											data: myDataParents,
											rowHeaders: false,
											colHeaders: colChildren_header,
											columns: colChildren,
											className: 'htCenter htMiddle helvetica',
											outsideClickDeselects: false,
											persistentState: true,
											rowHeights: 28,
											colWidths: [180, 80, 50, 50, 80, 140, 80, 80, 130],
											manualColumnResize: true,
											height: 'auto',
											width: '100%',
											licenseKey: 'non-commercial-and-evaluation',
										});

									</script>
                                </div>
							</div>
                        </div>
					</div>
				</div>
			</div>

			<div class="panel panel-default">
				<div class="panel-heading header-lightblue">
					<h3 class="panel-title h3-lightblue">
						<a id ="collapseGpp" data-toggle="collapse" data-parent="#accordion" href="#collapse4">
							Votre famille paternelle
						</a>
					</h3>
				</div>
				<div id="collapse4" class="panel-collapse collapse">
					<div class="panel-body">
						<div id="acc_siblings_div">
							<div class="row" style="padding: 0px 20px;">
								<div id="gpp_table_div">
									<p class='question'>Vos grands-parents paternels.</p>
				
									<div class="text-center">
										<div class='hotContainer'>
											<div id="hotGpp" class="hot handsontable htColumnHeaders handsontable-helvetica"
											style="display:inline-block;z-index: 0;min-height:60px"></div>
										</div>
									</div>
					
									<script>
										const containerGpp = document.getElementById('hotGpp');

										var myDataGpp = [
										{"FamID": "1","Name": "Grand-Père paternelle","IndivID": "4","FathID": "0","MothID": "0","Sex": "M","Affected":"1","Deceased":"0"},
    									{"FamID": "1","Name": "Grand-Mère paternelle","IndivID": "5","FathID": "0","MothID": "0","Sex": "F","Affected":"1","Deceased":"0"},
										]
										var hotGpp = new Handsontable(containerGpp, {
											data: myDataGpp,
											rowHeaders: false,
											colHeaders: colChildren_header,
											columns: colChildren,
											className: 'htCenter htMiddle helvetica',
											outsideClickDeselects: false,
											persistentState: true,
											rowHeights: 28,
											colWidths: [180, 80, 50, 50, 80, 140, 80, 80, 130],
											manualColumnResize: true,
											height: 'auto',
											width: '100%',
											licenseKey: 'non-commercial-and-evaluation',
										});

									</script>
                                </div>
							</div>
                            <div class="row" style="padding: 20px 20px;">
                                <div class="col-lg-3">
									<p class='question'>Est-ce que votre père a des frères et sœurs ?</p>
									<label class="radio-inline" for="fatherSiblings_Yes"><input type="radio" name="fatherSiblings_radio" id="fatherSiblings_Yes" value="fatherSiblings_Yes">Oui</label>
									<label class="radio-inline" for="fatherSiblings_No"><input type="radio" name="fatherSiblings_radio" id="fatherSiblings_No" value="fatherSiblings_No" checked>Non</label>
									<br><br>
									<div id="fatherSiblings_div">
										<p class='question'>Combien de frères et sœurs a votre père ?</p>
										<div class="input-group">
											<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
											<input id="fatherSiblings_input" name="fatherSiblings_input" type="number" class="form-control"
											data-decimals="0" placeholder="--" class="fill-space" min="0" max="20" step="1">
										</div>
									</div>
                                </div>
                                <div id="fatherSiblings_table_div" class="col-lg-9">
									<p class='question'>Quand sont nés les frères et sœurs de votre père ?</p>
				
									<div class="text-center">
										<div class='hotContainer'>
											<div id="hotFatherSiblings" class="hot handsontable htColumnHeaders handsontable-helvetica"
											style="display:inline-block;z-index: 0;min-height:60px"></div>
										</div>
									</div>
									<script>
										const containerFatherSiblings = document.getElementById('hotFatherSiblings');

										var myDataFatherSiblings = [
											// {"Name": "FS", "Sex": "", "Deceased":"0","Age":"","Yob":""}
										]
										var hotFatherSiblings = new Handsontable(containerFatherSiblings, {
											data: myDataFatherSiblings,
											rowHeaders: false,
											colHeaders: colChildren_header,
											columns: colChildren,
											className: 'htCenter htMiddle helvetica',
											outsideClickDeselects: false,
											persistentState: true,
											rowHeights: 28,
											colWidths: [100, 80, 50, 50, 80, 140, 80, 80, 130],
											manualColumnResize: false,
											height: 'auto',
											width: '100%',
											licenseKey: 'non-commercial-and-evaluation',
										});

									</script>
                                </div>
                            </div>
                        </div>
					</div>
				</div>
			</div>
			<div class="panel panel-default">
				<div class="panel-heading header-lightblue">
					<h3 class="panel-title h3-lightblue">
						<a id ="collapseGpm" data-toggle="collapse" data-parent="#accordion" href="#collapse5">
							Votre famille maternelle
						</a>
					</h3>
				</div>
				<div id="collapse5" class="panel-collapse collapse">
					<div class="panel-body">
						<div id="acc_siblings_div">
							<div class="row" style="padding: 0px 20px;">
								<div id="gpm_table_div">
									<p class='question'>Vos grands-parents maternels.</p>
				
									<div class="text-center">
										<div class='hotContainer'>
											<div id="hotGpm" class="hot handsontable htColumnHeaders handsontable-helvetica"
											style="display:inline-block;z-index: 0;min-height:60px"></div>
										</div>
									</div>
					
									<script>
										const containerGpm = document.getElementById('hotGpm');

										var myDataGpm = [
										{"FamID": "1","Name": "Grand-Père maternelle","IndivID": "6","FathID": "0","MothID": "0","Sex": "M","Affected":"1","Deceased":"0"},
    									{"FamID": "1","Name": "Grand-Mère maternelle","IndivID": "7","FathID": "0","MothID": "0","Sex": "F","Affected":"1","Deceased":"0"}
										]
										var hotGpm = new Handsontable(containerGpm, {
											data: myDataGpm,
											rowHeaders: false,
											colHeaders: colChildren_header,
											columns: colChildren,
											className: 'htCenter htMiddle helvetica',
											outsideClickDeselects: false,
											persistentState: true,
											rowHeights: 28,
											colWidths: [180, 80, 50, 50, 80, 140, 80, 80, 130],
											manualColumnResize: true,
											height: 'auto',
											width: '100%',
											licenseKey: 'non-commercial-and-evaluation',
										});

									</script>
                                </div>
							</div>
                            <div class="row" style="padding: 20px 20px;">
                                <div class="col-lg-3">
									<p class='question'>Est-ce que votre mère a des frères et sœurs ?</p>
									<label class="radio-inline" for="motherSiblings_Yes"><input type="radio" name="motherSiblings_radio" id="motherSiblings_Yes" value="motherSiblings_Yes">Oui</label>
									<label class="radio-inline" for="motherSiblings_No"><input type="radio" name="motherSiblings_radio" id="motherSiblings_No" value="motherSiblings_No" checked>Non</label>
									<br><br>
									<div id="motherSiblings_div">
										<p class='question'>Combien de frères et sœurs a votre mère ?</p>
										<div class="input-group">
											<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
											<input id="motherSiblings_input" name="motherSiblings_input" type="number" class="form-control"
											data-decimals="0" placeholder="--" class="fill-space" min="0" max="20" step="1">
										</div>
									</div>
                                </div>
                                <div id="motherSiblings_table_div" class="col-lg-9">
									<p class='question'>Quand sont nés les frères et sœurs de votre mère ?</p>
				
									<div class="text-center">
										<div class='hotContainer'>
											<div id="hotMotherSiblings" class="hot handsontable htColumnHeaders handsontable-helvetica"
											style="display:inline-block;z-index: 0;min-height:60px"></div>
										</div>
									</div>
					
									<script>
										const containerMotherSiblings = document.getElementById('hotMotherSiblings');

										var myDataMotherSiblings = [
											// {"Name": "FS", "Sex": "", "Deceased":"0","Age":"","Yob":""}
										]
										var hotMotherSiblings = new Handsontable(containerMotherSiblings, {
											data: myDataMotherSiblings,
											rowHeaders: false,
											colHeaders: colChildren_header,
											columns: colChildren,
											className: 'htCenter htMiddle helvetica',
											outsideClickDeselects: false,
											persistentState: true,
											rowHeights: 28,
											colWidths: [100, 80, 50, 50, 80, 140, 80, 80, 130],
											manualColumnResize: false,
											height: 'auto',
											width: '100%',
											licenseKey: 'non-commercial-and-evaluation',
										});

									</script>
                                </div>
                            </div>
                        </div>
					</div>
				</div>
			</div>
		</div>

		<!-- Finalisation -->
		<div class='row'  style="padding-top: 10px;">
			<div class="panel">
				<div class="panel-heading" style="background-color: #dbe9f5;margin: 0;">
					<h3 class='h3-lightblue'><span id="ui_finalisation" class="lang"></span></h3>
				</div>
			</div>
			<p>
				<div style="padding:0px 20px;">
					Cliquer sur le bouton ci-dessous afin de générer l'arbre à partir des données que vous avez entré.
				</div>
			</p>
			<div class='text-center' style="padding-bottom: 10px;">
				<button id="createPed" class="btn btn-primary">Créer l'abre généalogique</button>
			</div>

			<!-- create pedigree -->
			<div class='text-center' style="padding-bottom: 10px;"> 
				<div id="pedigrees" style="padding-bottom: 10px;"></div>
				<div id="node_properties" ></div>
			</div>

			<div class='text-center'>
				<button id="exportPedigreejsCanRisk" class="btn btn-primary">Télécharger les deux fichiers à envoyer à votre médecin</button>
				<div class="btnDivider"></div>
				<button id="png_download" class="btn btn-primary">Télécharger l'arbre généalogique (image)</button>
			</div>

			<div id="save-canrisk-dialog" class="modal fade text-center">
				<div class="modal-dialog" style="width:400px;">
					<div class="modal-content">
						<div class="modal-body">
							<div class="pleft10">
								<label>Ajouter un identifiant (Famid) dans le fichier</label>
								<input type="text" maxlength="13" class="form-control top10" id="famid" placeholder="Ex. : Identifiant la généalogie">
							</div>
							<div class="checkbox radio-info radio-circle">
								<input type="checkbox" name="report-opts" id="pid_fname" checked="">
								<label for="pid_fname" class="radio-inline">inclure dans le nom du fichier</label>
							</div>
						</div>
						<div class="modal-footer bg-blue rounded-bottom">
							<button type="button" class="btn btn-primary" data-dismiss="modal" id="cr_file_save">Enregistrer</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- References -->
		<div class='row' style="padding-top: 20px;">
			<div class="panel">
				<div class="panel-heading" style="background-color: #dbe9f5;margin: 0;">
					<h3 id="title_reference" class="lang  h3-lightblue"></h3>
				</div>
			</div>
			
			<div  style="padding:0px 10px 20px;">
				<p>
					<strong>CanRisk Tool—A Web Interface for the Prediction of Breast and Ovarian Cancer Risk
					and the Likelihood of Carrying Genetic Pathogenic Variants.</strong> Carver, T. et al. 
					<i>Cancer Epidemiol Biomarkers Prev (2020). <a href="https://cebp.aacrjournals.org/content/30/3/469" target="_blank">
						doi:10.1093/bioinformatics/btx705</a></i>
				</p>
				<p>
					<strong>BOADICEA: a comprehensive breast cancer risk prediction
					model incorporating genetic and nongenetic risk factors.</strong> Lee, A. et al. 
					<i>Genet Med 21, 1708–1718 (2019). <a href="https://www.nature.com/articles/s41436-018-0406-9" target="_blank">
					doi:10.1093/bioinformatics/btx705</a></i>
				</p>
				<p><strong>pedigreejs: a web-based graphical pedigree editor</strong><br>
					Carver T, Cunningham AP, Babb de Villiers C, Lee A, Hartley S, Tischkowitz M, et al. 
					<i>Bioinformatics <a href="http://dx.doi.org/10.1093/bioinformatics/btx705" target="_blank">
					doi:10.1093/bioinformatics/btx705</a></i>
				</p>
				<p><strong>HPO-translations</strong><br>
					<a href="https://github.com/drseb/HPO-translations" target="_blank">drseb/HPO-translations</a>
				</p>
				<p><strong>The Human Phenotype Ontology (HPO)</strong><br>
					<a href="https://hpo.jax.org/app/download/annotation" target="_blank">Annotations</a>
				</p>
				<p>
					<span id="Acknowledgment" class="lang"></span>
					<br>
					Copyright : Jean-Marie Ravel, 2020
					<br>
					<a href="mailto:jmravel.dev@gmail.com?	subject=GeneTree">Contact : jmravel.dev@gmail.com</a>
				</p>

			</div>
		</div>
	</div>

	<div id="defineInd" > 
		<form id="defineInd.frm">
		<!-- change id -->
		<div class="row" style="padding: 0px 20px;">
			<div class="col-lg-5">
				<p class='row'>Est-ce un homme (garçon) ou une femme (fille) ?</p>
				<div id="sexInd_div" class="row">
					<div class="col-sm-4 text-center">
						<label for="id_sex_0">
							<input type="radio" name="sex" value="M" required="" id="id_sex_0" class="valid">
								Homme
						</label>
					</div>
					<div class="col-sm-4 text-center">
						<label for="id_sex_1">
							<input type="radio" name="sex" value="F" required="" id="id_sex_1" class="valid">
								Femme
						</label>
					</div>
				</div>
				<br>

				<div id="yobInd_div">
					<p class='row'>Quelle est son année de naissance ou son âge ?</p>
					<div id="yobInd" class="col-sm-4">
						<input type="number" name="yobIndInput" autocomplete="off" size="17" class="form-control valid" maxlength="60"
							id="yobIndInput" aria-invalid="false" min="1850">
					</div>
				</div>
				<br>
				<br>
				
				<div id="deadInd_div">
					<p class='row'>Est-il décédé ?</p>
					<div id="deadInd" class="row">
						<div class="col-sm-4 text-center">
							<label for="id_sex_0">
								<input type="radio" name="deadStatus" value="1" class="valid">
									Oui
							</label>
						</div>
						<div class="col-sm-4 text-center">
							<label for="id_sex_1">
								<input type="radio" name="deadStatus" value="0" class="valid" checked>
									Non
							</label>
						</div>
					</div>
				</div>
				<br>

				<div id="deathyInd_div">
					<p class='row'>Quelle est son année de décés ou son âge au décés ?</p>
					<div id="deathyInd" class="col-sm-4">
						<input type="number" name="deathyIndInput" autocomplete="off" size="17" class="form-control valid" maxlength="60"
							id="deathyIndInput" aria-invalid="false" min="1850">
					</div>
				</div>
				<br>
			</div>
			<div id="IndDisease_div" class="col-lg-7">
				<p class='question'>Est-ce que cet enfant est (ou a été) atteint par un cancer ?</p>
				<div id="IndDisease" class="row">
					<div class="col-sm-6 text-center">
						<label for="id_sex_0">
							<input type="radio" name="diseaseStatus" value="1" class="valid">
								Oui
						</label>
					</div>
					<div class="col-sm-6 text-center">
						<label for="id_sex_1">
							<input type="radio" name="diseaseStatus" value="0" class="valid" checked>
								Non
						</label>
					</div>
				</div>
				<br>

				<div id="IndDisease1" class="row">
					<div class="panel-heading header-lightblue"  style="margin: 10px 10px;"> 
						<h3 class="panel-title h3-lightblue">
							Premier cancer
						</h3>
					</div>
					<div class="col-sm-6 text-center">
						<label for='IndDisease1Input'> Localisation
							<input type="text" name="IndDisease1Input" autocomplete="off" size="17" class="form-control valid" maxlength="60"
							id="IndDisease1Input" aria-invalid="false">
						</label>
					</div>
					<div class="col-sm-6 text-center">
						<label for='IndDisease1Age'> Âge ou année du diagnostic
							<input type="number" name="IndDisease1Age" autocomplete="off" size="17" class="form-control valid" maxlength="60"
							id="IndDisease1Age" aria-invalid="false">
						</label>
					</div>
				</div>
				<br>

				<div id="IndDisease2" class="row">
					<div class="panel-heading header-lightblue"  style="margin: 10px 10px;"> 
						<h3 class="panel-title h3-lightblue">
							Deuxième cancer
						</h3>
					</div>
					<div class="col-sm-6 text-center">
						<label for='IndDisease2Input'> Localisation
							<input type="text" name="IndDisease2Input" autocomplete="off" size="17" class="form-control valid" maxlength="60"
							id="IndDisease2Input" aria-invalid="false">
						</label>
					</div>
					<div class="col-sm-6 text-center">
						<label for='IndDisease2Age'> Âge ou année du diagnostic
							<input type="number" name="IndDisease2Age" autocomplete="off" size="17" class="form-control valid" maxlength="60"
							id="IndDisease2Age" aria-invalid="false">
						</label>
					</div>
				</div>
			</div>
		</div>
		<div class="row" id="IndComment" style="padding: 0px 20px 20px 20px;">
			<label for="IndCommentInput">Commentaire :</label>
				<textarea name="IndCommentInput" id="IndCommentInput" class="form-control valid" rows="2"></textarea>
		</div>
	</form>					
	</div>

	<!-- pattern fills //.style('fill', 'url(#circles-1)') --> 
	<div id="patterns" style="height:0;">
		<svg height="10" width="10" xmlns="http://www.w3.org/2000/svg" version="1.1"><defs><pattern id="circles-1" patternUnits="userSpaceOnUse" width="10" height="10"><image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSJ3aGl0ZSIgLz4KICA8Y2lyY2xlIGN4PSIxIiBjeT0iMSIgcj0iMSIgZmlsbD0iYmxhY2siLz4KPC9zdmc+" x="0" y="0" width="10" height="10"></image></pattern></defs></svg>
		<svg height="10" width="10" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="diagonal-stripe-1" patternUnits="userSpaceOnUse" width="10" height="10"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSd3aGl0ZScvPgogIDxwYXRoIGQ9J00tMSwxIGwyLC0yCiAgICAgICAgICAgTTAsMTAgbDEwLC0xMAogICAgICAgICAgIE05LDExIGwyLC0yJyBzdHJva2U9J2JsYWNrJyBzdHJva2Utd2lkdGg9JzEnLz4KPC9zdmc+Cg==" x="0" y="0" width="10" height="10"> </image> </pattern> </defs> </svg>
		<svg height="10" width="10" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="dots-8" patternUnits="userSpaceOnUse" width="10" height="10"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSd3aGl0ZScgLz4KICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nOCcgaGVpZ2h0PSc4JyBmaWxsPSdibGFjaycgLz4KPC9zdmc+" x="0" y="0" width="10" height="10"> </image> </pattern> </defs> </svg>
		<svg height="10" width="10" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="horizontal-stripe-2" patternUnits="userSpaceOnUse" width="10" height="10"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSd3aGl0ZScgLz4KICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAnIGhlaWdodD0nMicgZmlsbD0nYmxhY2snIC8+Cjwvc3ZnPg==" x="0" y="0" width="10" height="10"> </image> </pattern> </defs> </svg>
		<svg height="10" width="10" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="vertical-stripe-2" patternUnits="userSpaceOnUse" width="10" height="10"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSd3aGl0ZScgLz4KICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMicgaGVpZ2h0PScxMCcgZmlsbD0nYmxhY2snIC8+Cjwvc3ZnPg==" x="0" y="0" width="10" height="10"> </image> </pattern> </defs> </svg>
		<svg height="8" width="8" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="crosshatch" patternUnits="userSpaceOnUse" width="8" height="8"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4JyBoZWlnaHQ9JzgnPgogIDxyZWN0IHdpZHRoPSc4JyBoZWlnaHQ9JzgnIGZpbGw9JyNmZmYnLz4KICA8cGF0aCBkPSdNMCAwTDggOFpNOCAwTDAgOFonIHN0cm9rZS13aWR0aD0nMC41JyBzdHJva2U9JyNhYWEnLz4KPC9zdmc+Cg==" x="0" y="0" width="8" height="8"> </image> </pattern> </defs> </svg>        
		<svg height="5" width="5" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="lightstripe" patternUnits="userSpaceOnUse" width="5" height="5"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc1JyBoZWlnaHQ9JzUnPgogIDxyZWN0IHdpZHRoPSc1JyBoZWlnaHQ9JzUnIGZpbGw9J3doaXRlJy8+CiAgPHBhdGggZD0nTTAgNUw1IDBaTTYgNEw0IDZaTS0xIDFMMSAtMVonIHN0cm9rZT0nIzg4OCcgc3Ryb2tlLXdpZHRoPScxJy8+Cjwvc3ZnPg==" x="0" y="0" width="5" height="5"> </image> </pattern> </defs> </svg>
	</div>
	<script>
		var patternsId = function(){//all id
			items = ['circles-1', 'diagonal-stripe-1', 'dots-8', 'horizontal-stripe-2', 'vertical-stripe-2', 'crosshatch', 'lightstripe'];
			for (let i = 0; i < items.length; i++) {
				items[i] = 'url(#' + items[i] + ')';
			}
			return items
		}
	</script>
</body>

</html>