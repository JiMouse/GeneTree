<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width,maximum-scale=2">

	<link href="https://code.jquery.com/ui/1.12.1/themes/cupertino/jquery-ui.css" rel="stylesheet" type="text/css" media="all" />
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css" media="all" />
	<link rel="stylesheet" href="dist/css/pedigreejs.min.css" />

	<style>
		a[href^="http://"][target=_blank]:after, 
		a[href^="https://"][target=_blank]:after, 
		a[href^="ftp://"][target=_blank]:after {
		  content: "\f08e";
		  font-family: FontAwesome;
		  font-weight: normal;
		  font-style: normal;
		  display: inline-block;
		  text-decoration: none;
		  padding: 0px 2px;
		  display:inline;
		}

		.fa-rotate-45 {
			-webkit-transform:rotate(45deg); 
			-moz-transform:rotate(45deg); 
			-ms-transform:rotate(45deg); 
			-o-transform:rotate(45deg);
			transform:rotate(45deg);
		}
	</style>

	<script src="https://code.jquery.com/jquery-3.2.0.min.js"></script> 
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://unpkg.com/d3@4.13.0/build/d3.min.js"></script>
	<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>
</head>
<body>

<!-- HEADER -->
<div class="jumbotron" style="background-color:#DDD1C1">
	<div class="container">
	          <a class="btn btn-primary btn-lg pull-right" role="button" href="https://github.com/CCGE-BOADICEA/pedigreejs">View on GitHub</a>
	          <h1><a href="../index.html">pedigreejs</a></h1>
	          <h2>A web tool for building and displaying pedigrees.</h2>
	</div>
</div>

<div class="container">
	<div class="row">
		<h2>Developer Notes</h2>
		<p>
		To embed pedigreejs in your application, you will need to either download or link to a CDN for
		<a href="https://jquery.com/">JQuery</a>, <a href="http://fontawesome.io/">Font Awesome</a> and
		<a href="https://d3js.org/">d3</a>. Font Awesome is used to display some of the widgets for
		building the pedigree. The d3-hierarchy module is used to assist in the layout of the pedigree 
		tree. The pedigreejs JavaScript and CSS files can be found under the projects GitHub
		<a href="https://github.com/CCGE-BOADICEA/pedigreejs/tree/master/dist">'dist'</a> directory.
		The examples show how the options can be used to provide a suitable pedigree display and can
		be used as templates to experiment with. The 'dataset' option in the initialisation and configuration
		of pedigreejs defines the pedigree to be rendered,
		</p>
		<h3>Storing and Retrieving Pedigree Data</h3>
		<p>
		The <a href="../index.html#opts">‘store_type’</a> options in the configuration allows the data
		to be store in the browser in 3 ways. The default is to use <strong>‘session’</strong> storage which is used in 
		<a href="https://www.w3schools.com/html/html5_webstorage.asp">HTML5</a> to store data for a session.
		So if the browser or tab is closed the data is lost. The second option is to use <strong>‘local’</strong>
		storage which again is used in HTML but persists and has no expiration date. The last option is
		<strong>‘array’</strong> which just holds the data in JavaScript array and disappears if the page is
		refreshed or the browser closed.
		</p>
		<p>
		The current pedigree data displayed can be accessed by calling the JavaScript routine:
		</p>
		<pre>var pedigree = pedcache.current(opts);</pre>
		<p>
		Where 'opts' is the options used to intialise pedigreejs. This returns the pedigree data in JSON format.
		A search routine can then be implemented to interogate this, see <a href="example8.html">example 8</a>.
		</p>
		<h3>Pedigree Data Validation</h3>
		<p>
		'pedigreejs' will validate the pedigree data loaded into the interface by default. It will check
		the existence of parents and that the sex of the mother is female and the father is male. Also it checks
		that the unique name exists and is unique for each individual in the pedigree. Errors are returned, e.g.
		</p>
<pre>NON-UNIQUE NAME: f21
MOTHERS SEX NOT FEMALE: M
MISSING FATHER FOR ch1</pre>
		<p>Alternatively
		a function can be passed to the 'validate' configuration option (see <a href="example6.html">example 6</a>)
		and define any validation requirements necessary.
		</p>
		<h3>Display and Editing of Individual's Attributes</h3>
		<p>
		The 'labels' configuration option is used to determine what annotations are displayed
		under each of the individuals in the pedigree. So that it is possible to customise different attributes
		to be shown.
		</p>
		<p>
		A default data dialog is displayed when clicking on the <i class="fa fa-cog" aria-hidden="true"></i> icon.
		It shows the individual's details (<i>e.g.</i> name, age, sex). It is possible to implement and customise
		a data editor specific to the data set of interest by passing a function to as an option when configuring
		pedigreejs. See <a href="example3.html">example 3</a>. Alternatively set 'edit' in the configuration to false
		to disable and hide the data dialog.
		</p>
		<h3>Test Suite</h3>
		<p>
		The <a href="https://jasmine.github.io/">Jasmine</a> test framework is used to provide tests for the
		JavaScript. It can be installed and run from the root directory as follows:</p>
<pre>pip install jasmine
jasmine</pre>
		<p>
		Then visit 0.0.0.0:8888 in a web-browser to run the tests.
		</p>
	</div>  
</div>
</body>	
